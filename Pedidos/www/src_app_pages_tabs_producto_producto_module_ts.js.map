{"version":3,"file":"src_app_pages_tabs_producto_producto_module_ts.js","mappings":"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","sources":["./src/app/pages/tabs/producto/producto-routing.module.ts","./src/app/pages/tabs/producto/producto.module.ts","./src/app/pages/tabs/producto/producto.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProductoPage } from './producto.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProductoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductoPageRoutingModule } from './producto-routing.module';\n\nimport { ProductoPage } from './producto.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProductoPageRoutingModule\n  ],\n  declarations: [ProductoPage]\n})\nexport class ProductoPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\nimport { Preferences } from '@capacitor/preferences';\n@Component({\n  selector: 'app-producto',\n  templateUrl: './producto.page.html',\n  styleUrls: ['./producto.page.scss'],\n})\nexport class ProductoPage implements OnInit {\n\n  constructor(private parametro : ActivatedRoute,public toastController: ToastController,private router : Router) { }\n  productos : any[];\n  busquedas : any[];\n  ngOnInit() {\n    this.parametro.queryParams.subscribe((params : any) => {\n      this.productos = JSON.parse(params.producto)\n      this.busquedas =this.productos;\n    });\n  }\n\n  carrito(){\n    this.router.navigate(['/carrito'] );\n  }\n  adicionarCarrito(producto){\n    Preferences.get({key : 'carrito'}).then(data =>{\n       let pedidos : any[]  = data.value == null ? [] :  JSON.parse(data.value);\n       let list = pedidos.length == 0 ? [] : pedidos.filter(item => item.estado == false)[0].lista;\n       let pos = pedidos.indexOf( pedidos.filter(item => item.estado == false)[0]);\n\n       let i = list.filter( bus=> bus.producto.idProducto == producto.idProducto);\n       if (i.length > 0) {\n        this.presentToast('Producto ya existe en la Bolsa.');\n       } else {\n            list.push({ producto : producto , cantidad : 1  })\n          let pedido = {\n            estado : false ,\n            lista : list\n          }\n          if (pos == -1) {\n              pedidos.push(pedido)\n              Preferences.set({ key : 'carrito' , value : JSON.stringify(pedidos) })\n              this.presentToast('Adicionado a la bolsa.');\n          } else {\n              pedidos[pos] = pedido;\n              Preferences.set({ key : 'carrito' , value : JSON.stringify(pedidos) })\n              this.presentToast('Adicionado a la bolsa.');\n          }\n       }\n    })\n\n  }\n\n\n\n\n  async presentToast(sms) {\n    const toast = await this.toastController.create({\n      message: sms,\n      duration: 4000\n    });\n    toast.present();\n  }\n  busqueda(evento){\n    this.busquedas = this.productos.filter(item => item.nombre.toLowerCase().indexOf(evento.target.value.toLowerCase()) > -1)\n  }\n\n}\n"],"names":["Component","ActivatedRoute","Router","ToastController","Preferences","ProductoPage","constructor","parametro","toastController","router","ngOnInit","queryParams","subscribe","params","productos","JSON","parse","producto","busquedas","carrito","navigate","adicionarCarrito","get","key","then","data","pedidos","value","list","length","filter","item","estado","lista","pos","indexOf","i","bus","idProducto","presentToast","push","cantidad","pedido","set","stringify","sms","toast","create","message","duration","present","busqueda","evento","nombre","toLowerCase","target","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}